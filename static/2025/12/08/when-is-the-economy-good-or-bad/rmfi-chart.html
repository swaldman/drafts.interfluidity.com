<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Family Median Income</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
    <script src="vibecession-util.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        #chartContainer {
            position: relative;
            height: 500px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="chartContainer">
            <canvas id="myChart"></canvas>
        </div>
    </div>

    <script>
      const ctx = document.getElementById('myChart').getContext('2d');

      // Sample data
      const labels = [1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, 1961, 1962, 1963, 1964, 1965, 1966, 1967, 1968, 1969, 1970, 1971, 1972, 1973, 1974, 1975, 1976, 1977, 1978, 1979, 1980, 1981, 1982, 1983, 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024];
      const rmfi = [40870, 39710, 42340, 45060, 45340, 45260, 47710, 48760, 49270, 50670, 52400, 54550, 56700, 59710, 60950, 63790, 66870, 66700, 66680, 69730, 71240, 69450, 68170, 70310, 70680, 72900, 73940, 71470, 69470, 68570, 69030, 71250, 72300, 75550, 76830, 77010, 78410, 77260, 75790, 75220, 74170, 76170, 77920, 79070, 81560, 84380, 86370, 86740, 85960, 85350, 85230, 85320, 86190, 87060, 89170, 86250, 84580, 83640, 82110, 82230, 85470, 85760, 91060, 92830, 95520, 96730, 104200, 101200, 101700, 98870, 103400, 105800];





      const s1Rgb = [50,50,50]
      const s1Color = colorFromRgb( s1Rgb )
      const s1ColorFaded = colorFromRgbFaded( s1Rgb )

        const myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: labels,
                datasets: [
                    {
                      label: 'Real Median Family Income',
                      data: rmfi,
                      borderColor: s1Color,
                      backgroundColor: s1ColorFaded,
                      tension: 0.4,
                      borderWidth: 3,
                      pointRadius: 5,
                      pointBackgroundColor: s1Color,
                      pointBorderColor: '#fff',
                      pointBorderWidth: 2
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                    },
                    title: {
                        display: true,
                        color: "#000",
                        text: 'Real Median Family Income (census bureau)',
                        font: {
                            size: 16
                        }
                    },
                    annotation: {
                        annotations: {
                            box1: {
                                type: 'box',
                                xMin: 1,
                                xMax: 16,
                                yMin: 0,
                                //yMax: 19,
                                backgroundColor: greenBackground,
                                borderColor: greenBorder,
                                borderWidth: 2,
                                label: {
                                    display: true,
                                    content: 'Postwar Boom',
                                    position: {x: 'start', y: 'start'},
                                    color: greenLabel,
                                    font: {
                                        size: 10,
                                        weight: 'bold'
                                    }
                                }
                            },
                            box2: {
                                type: 'box',
                                xMin: 16,
                                xMax: 26,
                                yMin: 0,
                                //yMax: 19,
                                backgroundColor: yellowBackground,
                                borderColor: yellowBorder,
                                borderWidth: 2,
                                label: {
                                    display: true,
                                    content: 'Great Inflation',
                                    position: {x: 'start', y: 'start'},
                                    //position: {x: 'center', y: 'start'},
                                    color: yellowLabel,
                                    font: {
                                        size: 10,
                                        weight: 'bold'
                                    }
                                }
                            },
                            box3: {
                                type: 'box',
                                xMin: 26,
                                xMax: 30,
                                yMin: 0,
                                //yMax: 120,
                                backgroundColor: redBackground,
                                borderColor: redBorder,
                                borderWidth: 2,
                                label: {
                                    display: true,
                                    content: 'Volcker',
                                    position: {x: 'start', y: 'start'},
                                    //position: {x: 'center', y: 'start'},
                                    color: redLabel,
                                    font: {
                                        size: 10,
                                        weight: 'bold'
                                    }
                                }
                            },
                            box4: {
                                type: 'box',
                                xMin: 30,
                                xMax: 36,
                                yMin: 0,
                                //yMax: 120,
                                backgroundColor: greenBackground,
                                borderColor: greenBorder,
                                borderWidth: 2,
                                label: {
                                    display: true,
                                    content: 'Morning',
                                    position: {x: 'start', y: 'start'},
                                    //position: {x: 'center', y: 'start'},
                                    color: greenLabel,
                                    font: {
                                        size: 10,
                                        weight: 'bold'
                                    }
                                }
                            },
                            box5: {
                                type: 'box',
                                xMin: 36,
                                xMax: 40,
                                yMin: 0,
                                //yMax: 120,
                                backgroundColor: redBackground,
                                borderColor: redBorder,
                                borderWidth: 2,
                                label: {
                                    display: true,
                                    content: 'GHWB',
                                    position: {x: 'start', y: 'start'},
                                    //position: {x: 'center', y: 'start'},
                                    color: redLabel,
                                    font: {
                                        size: 10,
                                        weight: 'bold'
                                    }
                                }
                            },
                            box6: {
                                type: 'box',
                                xMin: 40,
                                xMax: 47,
                                yMin: 0,
                                //yMax: 120,
                                backgroundColor: greenBackground,
                                borderColor: greenBorder,
                                borderWidth: 2,
                                label: {
                                    display: true,
                                    content: '\'90s Boom',
                                    position: {x: 'start', y: 'start'},
                                    //position: {x: 'center', y: 'start'},
                                    color: greenLabel,
                                    font: {
                                        size: 10,
                                        weight: 'bold'
                                    }
                                }
                            },
                            box7: {
                                type: 'box',
                                xMin: 47,
                                xMax: 54,
                                yMin: 0,
                                //yMax: 120,
                                backgroundColor: yellowBackground,
                                borderColor: yellowBorder,
                                borderWidth: 2,
                                label: {
                                    display: true,
                                    content: 'Iffy Aughts',
                                    position: {x: 'start', y: 'start'},
                                    //position: {x: 'center', y: 'start'},
                                    color: yellowLabel,
                                    font: {
                                        size: 10,
                                        weight: 'bold'
                                    }
                                }
                            },
                            box8: {
                                type: 'box',
                                xMin: 54,
                                xMax: 59,
                                yMin: 0,
                                //yMax: 120,
                                backgroundColor: redBackground,
                                borderColor: redBorder,
                                borderWidth: 2,
                                label: {
                                    display: true,
                                    content: 'GFC',
                                    position: {x: 'start', y: 'start'},
                                    //position: {x: 'center', y: 'start'},
                                    color: redLabel,
                                    font: {
                                        size: 10,
                                        weight: 'bold'
                                    }
                                }
                            },
                            box9: {
                                type: 'box',
                                xMin: 59,
                                xMax: 66,
                                yMin: 0,
                                //yMax: 120,
                                backgroundColor: greenBackground,
                                borderColor: greenBorder,
                                borderWidth: 2,
                                label: {
                                    display: true,
                                    content: 'Obama-Trump',
                                    position: {x: 'start', y: 'start'},
                                    //position: {x: 'center', y: 'start'},
                                    color: greenLabel,
                                    font: {
                                        size: 10,
                                        weight: 'bold'
                                    }
                                }
                            },
                       }
                    }
                },
                scales: {
                    y: {
                        type: 'logarithmic',
                        //beginAtZero: true,
                        min: 35000,
                        //max: 18,
                        title: {
                            display: true,
                            text: '2023 Dollars (CPI-U-RS adjusted), log scale'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Year'
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
